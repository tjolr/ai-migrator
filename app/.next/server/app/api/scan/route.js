"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/scan/route";
exports.ids = ["app/api/scan/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:zlib");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_tjol_dev_sandbox_ai_migrator_app_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/scan/route.ts */ \"(rsc)/./src/app/api/scan/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/scan/route\",\n        pathname: \"/api/scan\",\n        filename: \"route\",\n        bundlePath: \"app/api/scan/route\"\n    },\n    resolvedPagePath: \"/Users/tjol/dev/sandbox/ai-migrator/app/src/app/api/scan/route.ts\",\n    nextConfigOutput,\n    userland: _Users_tjol_dev_sandbox_ai_migrator_app_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/scan/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjVfQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGc2NhbiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2NhbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnNjYW4lMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZ0am9sJTJGZGV2JTJGc2FuZGJveCUyRmFpLW1pZ3JhdG9yJTJGYXBwJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRqb2wlMkZkZXYlMkZzYW5kYm94JTJGYWktbWlncmF0b3IlMkZhcHAmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2lCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktbWlncmF0b3ItYXBwLz84NmUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy90am9sL2Rldi9zYW5kYm94L2FpLW1pZ3JhdG9yL2FwcC9zcmMvYXBwL2FwaS9zY2FuL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zY2FuL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2NhblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2Nhbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy90am9sL2Rldi9zYW5kYm94L2FpLW1pZ3JhdG9yL2FwcC9zcmMvYXBwL2FwaS9zY2FuL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zY2FuL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/scan/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_scanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/scanner */ \"(rsc)/./src/lib/scanner.ts\");\n/* harmony import */ var _lib_analyzer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/analyzer */ \"(rsc)/./src/lib/analyzer.ts\");\n\n\n\nasync function GET(request) {\n    try {\n        const scanner = new _lib_scanner__WEBPACK_IMPORTED_MODULE_1__.PackageScanner();\n        const analyzer = new _lib_analyzer__WEBPACK_IMPORTED_MODULE_2__.PackageAnalyzer();\n        const cwd = process.env.TARGET_SCAN_DIR || process.cwd();\n        console.log(\"Scanning from:\", cwd);\n        const packageFiles = await scanner.findPackageJsonFiles(cwd);\n        if (packageFiles.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No package.json files found\"\n            }, {\n                status: 404\n            });\n        }\n        const allPackages = packageFiles.flatMap((file)=>[\n                ...Object.entries(file.dependencies).map(([name, version])=>({\n                        name,\n                        version: version.replace(/^[\\^~]/, \"\"),\n                        packageJsonPath: file.path,\n                        isDev: false\n                    })),\n                ...Object.entries(file.devDependencies).map(([name, version])=>({\n                        name,\n                        version: version.replace(/^[\\^~]/, \"\"),\n                        packageJsonPath: file.path,\n                        isDev: true\n                    }))\n            ]);\n        const results = await analyzer.analyzePackages(allPackages);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            packageFiles: packageFiles.map((f)=>({\n                    path: f.path,\n                    relativePath: f.path.replace(cwd, \"\").replace(/^\\//, \"\") || \"package.json\",\n                    displayPath: (()=>{\n                        const relativePath = f.path.replace(cwd, \"\").replace(/^\\//, \"\") || \"package.json\";\n                        const parts = relativePath.split(\"/\");\n                        if (parts.length <= 3) return relativePath;\n                        return `.../${parts.slice(-3).join(\"/\")}`;\n                    })(),\n                    parentFolder: (()=>{\n                        const relativePath = f.path.replace(cwd, \"\").replace(/^\\//, \"\") || \"package.json\";\n                        const parts = relativePath.split(\"/\");\n                        if (parts.length <= 1) return \"root\";\n                        return parts[parts.length - 2] || \"root\";\n                    })(),\n                    packageCount: Object.keys(f.dependencies).length + Object.keys(f.devDependencies).length\n                })),\n            results,\n            scanDirectory: cwd\n        });\n    } catch (error) {\n        console.error(\"Scan error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to scan packages\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL2FpLW1pZ3JhdG9yLWFwcC8uL3NyYy9hcHAvYXBpL3NjYW4vcm91dGUudHM/NmZjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBQYWNrYWdlU2Nhbm5lciB9IGZyb20gJ0AvbGliL3NjYW5uZXInXG5pbXBvcnQgeyBQYWNrYWdlQW5hbHl6ZXIgfSBmcm9tICdAL2xpYi9hbmFseXplcidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNjYW5uZXIgPSBuZXcgUGFja2FnZVNjYW5uZXIoKVxuICAgIGNvbnN0IGFuYWx5emVyID0gbmV3IFBhY2thZ2VBbmFseXplcigpXG4gICAgXG4gICAgY29uc3QgY3dkID0gcHJvY2Vzcy5lbnYuVEFSR0VUX1NDQU5fRElSIHx8IHByb2Nlc3MuY3dkKClcbiAgICBjb25zb2xlLmxvZygnU2Nhbm5pbmcgZnJvbTonLCBjd2QpXG4gICAgY29uc3QgcGFja2FnZUZpbGVzID0gYXdhaXQgc2Nhbm5lci5maW5kUGFja2FnZUpzb25GaWxlcyhjd2QpXG4gICAgXG4gICAgaWYgKHBhY2thZ2VGaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm8gcGFja2FnZS5qc29uIGZpbGVzIGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pXG4gICAgfVxuXG4gICAgY29uc3QgYWxsUGFja2FnZXMgPSBwYWNrYWdlRmlsZXMuZmxhdE1hcChmaWxlID0+IFtcbiAgICAgIC4uLk9iamVjdC5lbnRyaWVzKGZpbGUuZGVwZW5kZW5jaWVzKS5tYXAoKFtuYW1lLCB2ZXJzaW9uXSkgPT4gKHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmVyc2lvbjogdmVyc2lvbi5yZXBsYWNlKC9eW1xcXn5dLywgJycpLFxuICAgICAgICBwYWNrYWdlSnNvblBhdGg6IGZpbGUucGF0aCxcbiAgICAgICAgaXNEZXY6IGZhbHNlXG4gICAgICB9KSksXG4gICAgICAuLi5PYmplY3QuZW50cmllcyhmaWxlLmRldkRlcGVuZGVuY2llcykubWFwKChbbmFtZSwgdmVyc2lvbl0pID0+ICh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb24ucmVwbGFjZSgvXltcXF5+XS8sICcnKSxcbiAgICAgICAgcGFja2FnZUpzb25QYXRoOiBmaWxlLnBhdGgsXG4gICAgICAgIGlzRGV2OiB0cnVlXG4gICAgICB9KSlcbiAgICBdKVxuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGFuYWx5emVyLmFuYWx5emVQYWNrYWdlcyhhbGxQYWNrYWdlcylcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgcGFja2FnZUZpbGVzOiBwYWNrYWdlRmlsZXMubWFwKGYgPT4gKHsgXG4gICAgICAgIHBhdGg6IGYucGF0aCwgXG4gICAgICAgIHJlbGF0aXZlUGF0aDogZi5wYXRoLnJlcGxhY2UoY3dkLCAnJykucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAncGFja2FnZS5qc29uJyxcbiAgICAgICAgZGlzcGxheVBhdGg6ICgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZi5wYXRoLnJlcGxhY2UoY3dkLCAnJykucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAncGFja2FnZS5qc29uJ1xuICAgICAgICAgIGNvbnN0IHBhcnRzID0gcmVsYXRpdmVQYXRoLnNwbGl0KCcvJylcbiAgICAgICAgICBpZiAocGFydHMubGVuZ3RoIDw9IDMpIHJldHVybiByZWxhdGl2ZVBhdGhcbiAgICAgICAgICByZXR1cm4gYC4uLi8ke3BhcnRzLnNsaWNlKC0zKS5qb2luKCcvJyl9YFxuICAgICAgICB9KSgpLFxuICAgICAgICBwYXJlbnRGb2xkZXI6ICgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gZi5wYXRoLnJlcGxhY2UoY3dkLCAnJykucmVwbGFjZSgvXlxcLy8sICcnKSB8fCAncGFja2FnZS5qc29uJ1xuICAgICAgICAgIGNvbnN0IHBhcnRzID0gcmVsYXRpdmVQYXRoLnNwbGl0KCcvJylcbiAgICAgICAgICBpZiAocGFydHMubGVuZ3RoIDw9IDEpIHJldHVybiAncm9vdCdcbiAgICAgICAgICByZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gMl0gfHwgJ3Jvb3QnXG4gICAgICAgIH0pKCksXG4gICAgICAgIHBhY2thZ2VDb3VudDogT2JqZWN0LmtleXMoZi5kZXBlbmRlbmNpZXMpLmxlbmd0aCArIE9iamVjdC5rZXlzKGYuZGV2RGVwZW5kZW5jaWVzKS5sZW5ndGggXG4gICAgICB9KSksXG4gICAgICByZXN1bHRzLFxuICAgICAgc2NhbkRpcmVjdG9yeTogY3dkXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTY2FuIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHNjYW4gcGFja2FnZXMnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJQYWNrYWdlU2Nhbm5lciIsIlBhY2thZ2VBbmFseXplciIsIkdFVCIsInJlcXVlc3QiLCJzY2FubmVyIiwiYW5hbHl6ZXIiLCJjd2QiLCJwcm9jZXNzIiwiZW52IiwiVEFSR0VUX1NDQU5fRElSIiwiY29uc29sZSIsImxvZyIsInBhY2thZ2VGaWxlcyIsImZpbmRQYWNrYWdlSnNvbkZpbGVzIiwibGVuZ3RoIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiYWxsUGFja2FnZXMiLCJmbGF0TWFwIiwiZmlsZSIsIk9iamVjdCIsImVudHJpZXMiLCJkZXBlbmRlbmNpZXMiLCJtYXAiLCJuYW1lIiwidmVyc2lvbiIsInJlcGxhY2UiLCJwYWNrYWdlSnNvblBhdGgiLCJwYXRoIiwiaXNEZXYiLCJkZXZEZXBlbmRlbmNpZXMiLCJyZXN1bHRzIiwiYW5hbHl6ZVBhY2thZ2VzIiwiZiIsInJlbGF0aXZlUGF0aCIsImRpc3BsYXlQYXRoIiwicGFydHMiLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsInBhcmVudEZvbGRlciIsInBhY2thZ2VDb3VudCIsImtleXMiLCJzY2FuRGlyZWN0b3J5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/analyzer.ts":
/*!*****************************!*\
  !*** ./src/lib/analyzer.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PackageAnalyzer: () => (/* binding */ PackageAnalyzer)\n/* harmony export */ });\n/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! semver */ \"(rsc)/./node_modules/.pnpm/semver@7.7.2/node_modules/semver/index.js\");\n/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node-fetch */ \"(rsc)/./node_modules/.pnpm/node-fetch@3.3.2/node_modules/node-fetch/src/index.js\");\n\n\nclass PackageAnalyzer {\n    async getLatestVersion(packageName) {\n        try {\n            const response = await (0,node_fetch__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(`https://registry.npmjs.org/${packageName}/latest`);\n            if (!response.ok) return null;\n            const data = await response.json();\n            return data.version;\n        } catch (error) {\n            console.warn(`Failed to fetch version for ${packageName}:`, error);\n            return null;\n        }\n    }\n    determineUpdateType(current, latest) {\n        const currentClean = semver__WEBPACK_IMPORTED_MODULE_0___default().coerce(current);\n        const latestClean = semver__WEBPACK_IMPORTED_MODULE_0___default().coerce(latest);\n        if (!currentClean || !latestClean) return null;\n        if (semver__WEBPACK_IMPORTED_MODULE_0___default().major(latestClean) > semver__WEBPACK_IMPORTED_MODULE_0___default().major(currentClean)) return \"major\";\n        if (semver__WEBPACK_IMPORTED_MODULE_0___default().minor(latestClean) > semver__WEBPACK_IMPORTED_MODULE_0___default().minor(currentClean)) return \"minor\";\n        if (semver__WEBPACK_IMPORTED_MODULE_0___default().patch(latestClean) > semver__WEBPACK_IMPORTED_MODULE_0___default().patch(currentClean)) return \"patch\";\n        return null;\n    }\n    async analyzePackages(packages) {\n        const updates = [];\n        for (const pkg of packages){\n            const latestVersion = await this.getLatestVersion(pkg.name);\n            if (!latestVersion) continue;\n            const updateType = this.determineUpdateType(pkg.version, latestVersion);\n            if (!updateType) continue;\n            updates.push({\n                name: pkg.name,\n                currentVersion: pkg.version,\n                latestVersion,\n                updateType,\n                packageJsonPath: pkg.packageJsonPath,\n                isDev: pkg.isDev\n            });\n        }\n        return {\n            major: updates.filter((u)=>u.updateType === \"major\"),\n            minor: updates.filter((u)=>u.updateType === \"minor\"),\n            patch: updates.filter((u)=>u.updateType === \"patch\")\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FuYWx5emVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEI7QUFDRztBQWlCeEIsTUFBTUU7SUFDWCxNQUFjQyxpQkFBaUJDLFdBQW1CLEVBQTBCO1FBQzFFLElBQUk7WUFDRixNQUFNQyxXQUFXLE1BQU1KLHNEQUFLQSxDQUFDLENBQUMsMkJBQTJCLEVBQUVHLFlBQVksT0FBTyxDQUFDO1lBQy9FLElBQUksQ0FBQ0MsU0FBU0MsRUFBRSxFQUFFLE9BQU87WUFFekIsTUFBTUMsT0FBTyxNQUFNRixTQUFTRyxJQUFJO1lBQ2hDLE9BQU9ELEtBQUtFLE9BQU87UUFDckIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFDLElBQUksQ0FBQyxDQUFDLDRCQUE0QixFQUFFUixZQUFZLENBQUMsQ0FBQyxFQUFFTTtZQUM1RCxPQUFPO1FBQ1Q7SUFDRjtJQUVRRyxvQkFBb0JDLE9BQWUsRUFBRUMsTUFBYyxFQUFzQztRQUMvRixNQUFNQyxlQUFlaEIsb0RBQWEsQ0FBQ2M7UUFDbkMsTUFBTUksY0FBY2xCLG9EQUFhLENBQUNlO1FBRWxDLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNFLGFBQWEsT0FBTztRQUUxQyxJQUFJbEIsbURBQVksQ0FBQ2tCLGVBQWVsQixtREFBWSxDQUFDZ0IsZUFBZSxPQUFPO1FBQ25FLElBQUloQixtREFBWSxDQUFDa0IsZUFBZWxCLG1EQUFZLENBQUNnQixlQUFlLE9BQU87UUFDbkUsSUFBSWhCLG1EQUFZLENBQUNrQixlQUFlbEIsbURBQVksQ0FBQ2dCLGVBQWUsT0FBTztRQUVuRSxPQUFPO0lBQ1Q7SUFFQSxNQUFNTSxnQkFBZ0JDLFFBQTJGLEVBQTJCO1FBQzFJLE1BQU1DLFVBQTJCLEVBQUU7UUFFbkMsS0FBSyxNQUFNQyxPQUFPRixTQUFVO1lBQzFCLE1BQU1HLGdCQUFnQixNQUFNLElBQUksQ0FBQ3ZCLGdCQUFnQixDQUFDc0IsSUFBSUUsSUFBSTtZQUMxRCxJQUFJLENBQUNELGVBQWU7WUFFcEIsTUFBTUUsYUFBYSxJQUFJLENBQUNmLG1CQUFtQixDQUFDWSxJQUFJaEIsT0FBTyxFQUFFaUI7WUFDekQsSUFBSSxDQUFDRSxZQUFZO1lBRWpCSixRQUFRSyxJQUFJLENBQUM7Z0JBQ1hGLE1BQU1GLElBQUlFLElBQUk7Z0JBQ2RHLGdCQUFnQkwsSUFBSWhCLE9BQU87Z0JBQzNCaUI7Z0JBQ0FFO2dCQUNBRyxpQkFBaUJOLElBQUlNLGVBQWU7Z0JBQ3BDQyxPQUFPUCxJQUFJTyxLQUFLO1lBQ2xCO1FBQ0Y7UUFFQSxPQUFPO1lBQ0xiLE9BQU9LLFFBQVFTLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRU4sVUFBVSxLQUFLO1lBQzVDUixPQUFPSSxRQUFRUyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVOLFVBQVUsS0FBSztZQUM1Q1AsT0FBT0csUUFBUVMsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFTixVQUFVLEtBQUs7UUFDOUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktbWlncmF0b3ItYXBwLy4vc3JjL2xpYi9hbmFseXplci50cz8xZTBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZW12ZXIgZnJvbSAnc2VtdmVyJztcbmltcG9ydCBmZXRjaCBmcm9tICdub2RlLWZldGNoJztcblxuZXhwb3J0IGludGVyZmFjZSBQYWNrYWdlVXBkYXRlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBjdXJyZW50VmVyc2lvbjogc3RyaW5nO1xuICBsYXRlc3RWZXJzaW9uOiBzdHJpbmc7XG4gIHVwZGF0ZVR5cGU6ICdtYWpvcicgfCAnbWlub3InIHwgJ3BhdGNoJztcbiAgcGFja2FnZUpzb25QYXRoOiBzdHJpbmc7XG4gIGlzRGV2OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5c2lzUmVzdWx0IHtcbiAgbWFqb3I6IFBhY2thZ2VVcGRhdGVbXTtcbiAgbWlub3I6IFBhY2thZ2VVcGRhdGVbXTtcbiAgcGF0Y2g6IFBhY2thZ2VVcGRhdGVbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhY2thZ2VBbmFseXplciB7XG4gIHByaXZhdGUgYXN5bmMgZ2V0TGF0ZXN0VmVyc2lvbihwYWNrYWdlTmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnLyR7cGFja2FnZU5hbWV9L2xhdGVzdGApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgcmV0dXJuIG51bGw7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkgYXMgeyB2ZXJzaW9uOiBzdHJpbmcgfTtcbiAgICAgIHJldHVybiBkYXRhLnZlcnNpb247XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGZldGNoIHZlcnNpb24gZm9yICR7cGFja2FnZU5hbWV9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGV0ZXJtaW5lVXBkYXRlVHlwZShjdXJyZW50OiBzdHJpbmcsIGxhdGVzdDogc3RyaW5nKTogJ21ham9yJyB8ICdtaW5vcicgfCAncGF0Y2gnIHwgbnVsbCB7XG4gICAgY29uc3QgY3VycmVudENsZWFuID0gc2VtdmVyLmNvZXJjZShjdXJyZW50KTtcbiAgICBjb25zdCBsYXRlc3RDbGVhbiA9IHNlbXZlci5jb2VyY2UobGF0ZXN0KTtcbiAgICBcbiAgICBpZiAoIWN1cnJlbnRDbGVhbiB8fCAhbGF0ZXN0Q2xlYW4pIHJldHVybiBudWxsO1xuICAgIFxuICAgIGlmIChzZW12ZXIubWFqb3IobGF0ZXN0Q2xlYW4pID4gc2VtdmVyLm1ham9yKGN1cnJlbnRDbGVhbikpIHJldHVybiAnbWFqb3InO1xuICAgIGlmIChzZW12ZXIubWlub3IobGF0ZXN0Q2xlYW4pID4gc2VtdmVyLm1pbm9yKGN1cnJlbnRDbGVhbikpIHJldHVybiAnbWlub3InO1xuICAgIGlmIChzZW12ZXIucGF0Y2gobGF0ZXN0Q2xlYW4pID4gc2VtdmVyLnBhdGNoKGN1cnJlbnRDbGVhbikpIHJldHVybiAncGF0Y2gnO1xuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgYW5hbHl6ZVBhY2thZ2VzKHBhY2thZ2VzOiBBcnJheTx7IG5hbWU6IHN0cmluZzsgdmVyc2lvbjogc3RyaW5nOyBwYWNrYWdlSnNvblBhdGg6IHN0cmluZzsgaXNEZXY6IGJvb2xlYW4gfT4pOiBQcm9taXNlPEFuYWx5c2lzUmVzdWx0PiB7XG4gICAgY29uc3QgdXBkYXRlczogUGFja2FnZVVwZGF0ZVtdID0gW107XG4gICAgXG4gICAgZm9yIChjb25zdCBwa2cgb2YgcGFja2FnZXMpIHtcbiAgICAgIGNvbnN0IGxhdGVzdFZlcnNpb24gPSBhd2FpdCB0aGlzLmdldExhdGVzdFZlcnNpb24ocGtnLm5hbWUpO1xuICAgICAgaWYgKCFsYXRlc3RWZXJzaW9uKSBjb250aW51ZTtcbiAgICAgIFxuICAgICAgY29uc3QgdXBkYXRlVHlwZSA9IHRoaXMuZGV0ZXJtaW5lVXBkYXRlVHlwZShwa2cudmVyc2lvbiwgbGF0ZXN0VmVyc2lvbik7XG4gICAgICBpZiAoIXVwZGF0ZVR5cGUpIGNvbnRpbnVlO1xuICAgICAgXG4gICAgICB1cGRhdGVzLnB1c2goe1xuICAgICAgICBuYW1lOiBwa2cubmFtZSxcbiAgICAgICAgY3VycmVudFZlcnNpb246IHBrZy52ZXJzaW9uLFxuICAgICAgICBsYXRlc3RWZXJzaW9uLFxuICAgICAgICB1cGRhdGVUeXBlLFxuICAgICAgICBwYWNrYWdlSnNvblBhdGg6IHBrZy5wYWNrYWdlSnNvblBhdGgsXG4gICAgICAgIGlzRGV2OiBwa2cuaXNEZXZcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgbWFqb3I6IHVwZGF0ZXMuZmlsdGVyKHUgPT4gdS51cGRhdGVUeXBlID09PSAnbWFqb3InKSxcbiAgICAgIG1pbm9yOiB1cGRhdGVzLmZpbHRlcih1ID0+IHUudXBkYXRlVHlwZSA9PT0gJ21pbm9yJyksXG4gICAgICBwYXRjaDogdXBkYXRlcy5maWx0ZXIodSA9PiB1LnVwZGF0ZVR5cGUgPT09ICdwYXRjaCcpXG4gICAgfTtcbiAgfVxufSJdLCJuYW1lcyI6WyJzZW12ZXIiLCJmZXRjaCIsIlBhY2thZ2VBbmFseXplciIsImdldExhdGVzdFZlcnNpb24iLCJwYWNrYWdlTmFtZSIsInJlc3BvbnNlIiwib2siLCJkYXRhIiwianNvbiIsInZlcnNpb24iLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZGV0ZXJtaW5lVXBkYXRlVHlwZSIsImN1cnJlbnQiLCJsYXRlc3QiLCJjdXJyZW50Q2xlYW4iLCJjb2VyY2UiLCJsYXRlc3RDbGVhbiIsIm1ham9yIiwibWlub3IiLCJwYXRjaCIsImFuYWx5emVQYWNrYWdlcyIsInBhY2thZ2VzIiwidXBkYXRlcyIsInBrZyIsImxhdGVzdFZlcnNpb24iLCJuYW1lIiwidXBkYXRlVHlwZSIsInB1c2giLCJjdXJyZW50VmVyc2lvbiIsInBhY2thZ2VKc29uUGF0aCIsImlzRGV2IiwiZmlsdGVyIiwidSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/analyzer.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/scanner.ts":
/*!****************************!*\
  !*** ./src/lib/scanner.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PackageScanner: () => (/* binding */ PackageScanner)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass PackageScanner {\n    async findPackageJsonFiles(rootDir) {\n        const packageFiles = [];\n        const scanDirectory = async (dir)=>{\n            try {\n                const entries = await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.readdir(dir, {\n                    withFileTypes: true\n                });\n                for (const entry of entries){\n                    const fullPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(dir, entry.name);\n                    if (entry.isDirectory() && entry.name !== \"node_modules\" && !entry.name.startsWith(\".\")) {\n                        await scanDirectory(fullPath);\n                    } else if (entry.isFile() && entry.name === \"package.json\") {\n                        try {\n                            const content = JSON.parse(await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.readFile(fullPath, \"utf-8\"));\n                            packageFiles.push({\n                                path: fullPath,\n                                content,\n                                dependencies: content.dependencies || {},\n                                devDependencies: content.devDependencies || {}\n                            });\n                        } catch (error) {\n                            console.warn(`Failed to parse ${fullPath}:`, error);\n                        }\n                    }\n                }\n            } catch (error) {\n                console.warn(`Failed to scan directory ${dir}:`, error);\n            }\n        };\n        await scanDirectory(rootDir);\n        return packageFiles;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NjYW5uZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBb0I7QUFDSTtBQVNqQixNQUFNRTtJQUNYLE1BQU1DLHFCQUFxQkMsT0FBZSxFQUE4QjtRQUN0RSxNQUFNQyxlQUFrQyxFQUFFO1FBRTFDLE1BQU1DLGdCQUFnQixPQUFPQztZQUMzQixJQUFJO2dCQUNGLE1BQU1DLFVBQVUsTUFBTVIsa0RBQVcsQ0FBQ1UsT0FBTyxDQUFDSCxLQUFLO29CQUFFSSxlQUFlO2dCQUFLO2dCQUVyRSxLQUFLLE1BQU1DLFNBQVNKLFFBQVM7b0JBQzNCLE1BQU1LLFdBQVdaLGdEQUFTLENBQUNNLEtBQUtLLE1BQU1HLElBQUk7b0JBRTFDLElBQUlILE1BQU1JLFdBQVcsTUFBTUosTUFBTUcsSUFBSSxLQUFLLGtCQUFrQixDQUFDSCxNQUFNRyxJQUFJLENBQUNFLFVBQVUsQ0FBQyxNQUFNO3dCQUN2RixNQUFNWCxjQUFjTztvQkFDdEIsT0FBTyxJQUFJRCxNQUFNTSxNQUFNLE1BQU1OLE1BQU1HLElBQUksS0FBSyxnQkFBZ0I7d0JBQzFELElBQUk7NEJBQ0YsTUFBTUksVUFBVUMsS0FBS0MsS0FBSyxDQUFDLE1BQU1yQixrREFBVyxDQUFDc0IsUUFBUSxDQUFDVCxVQUFVOzRCQUNoRVIsYUFBYWtCLElBQUksQ0FBQztnQ0FDaEJ0QixNQUFNWTtnQ0FDTk07Z0NBQ0FLLGNBQWNMLFFBQVFLLFlBQVksSUFBSSxDQUFDO2dDQUN2Q0MsaUJBQWlCTixRQUFRTSxlQUFlLElBQUksQ0FBQzs0QkFDL0M7d0JBQ0YsRUFBRSxPQUFPQyxPQUFPOzRCQUNkQyxRQUFRQyxJQUFJLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRWYsU0FBUyxDQUFDLENBQUMsRUFBRWE7d0JBQy9DO29CQUNGO2dCQUNGO1lBQ0YsRUFBRSxPQUFPQSxPQUFPO2dCQUNkQyxRQUFRQyxJQUFJLENBQUMsQ0FBQyx5QkFBeUIsRUFBRXJCLElBQUksQ0FBQyxDQUFDLEVBQUVtQjtZQUNuRDtRQUNGO1FBRUEsTUFBTXBCLGNBQWNGO1FBQ3BCLE9BQU9DO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLW1pZ3JhdG9yLWFwcC8uL3NyYy9saWIvc2Nhbm5lci50cz8yOTU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuZXhwb3J0IGludGVyZmFjZSBQYWNrYWdlSnNvbkluZm8ge1xuICBwYXRoOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IGFueTtcbiAgZGVwZW5kZW5jaWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBkZXZEZXBlbmRlbmNpZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59XG5cbmV4cG9ydCBjbGFzcyBQYWNrYWdlU2Nhbm5lciB7XG4gIGFzeW5jIGZpbmRQYWNrYWdlSnNvbkZpbGVzKHJvb3REaXI6IHN0cmluZyk6IFByb21pc2U8UGFja2FnZUpzb25JbmZvW10+IHtcbiAgICBjb25zdCBwYWNrYWdlRmlsZXM6IFBhY2thZ2VKc29uSW5mb1tdID0gW107XG4gICAgXG4gICAgY29uc3Qgc2NhbkRpcmVjdG9yeSA9IGFzeW5jIChkaXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IGF3YWl0IGZzLnByb21pc2VzLnJlYWRkaXIoZGlyLCB7IHdpdGhGaWxlVHlwZXM6IHRydWUgfSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICBjb25zdCBmdWxsUGF0aCA9IHBhdGguam9pbihkaXIsIGVudHJ5Lm5hbWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlbnRyeS5pc0RpcmVjdG9yeSgpICYmIGVudHJ5Lm5hbWUgIT09ICdub2RlX21vZHVsZXMnICYmICFlbnRyeS5uYW1lLnN0YXJ0c1dpdGgoJy4nKSkge1xuICAgICAgICAgICAgYXdhaXQgc2NhbkRpcmVjdG9yeShmdWxsUGF0aCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlbnRyeS5pc0ZpbGUoKSAmJiBlbnRyeS5uYW1lID09PSAncGFja2FnZS5qc29uJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEpTT04ucGFyc2UoYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUoZnVsbFBhdGgsICd1dGYtOCcpKTtcbiAgICAgICAgICAgICAgcGFja2FnZUZpbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzOiBjb250ZW50LmRlcGVuZGVuY2llcyB8fCB7fSxcbiAgICAgICAgICAgICAgICBkZXZEZXBlbmRlbmNpZXM6IGNvbnRlbnQuZGV2RGVwZW5kZW5jaWVzIHx8IHt9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gcGFyc2UgJHtmdWxsUGF0aH06YCwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gc2NhbiBkaXJlY3RvcnkgJHtkaXJ9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGF3YWl0IHNjYW5EaXJlY3Rvcnkocm9vdERpcik7XG4gICAgcmV0dXJuIHBhY2thZ2VGaWxlcztcbiAgfVxufSJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJQYWNrYWdlU2Nhbm5lciIsImZpbmRQYWNrYWdlSnNvbkZpbGVzIiwicm9vdERpciIsInBhY2thZ2VGaWxlcyIsInNjYW5EaXJlY3RvcnkiLCJkaXIiLCJlbnRyaWVzIiwicHJvbWlzZXMiLCJyZWFkZGlyIiwid2l0aEZpbGVUeXBlcyIsImVudHJ5IiwiZnVsbFBhdGgiLCJqb2luIiwibmFtZSIsImlzRGlyZWN0b3J5Iiwic3RhcnRzV2l0aCIsImlzRmlsZSIsImNvbnRlbnQiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZSIsInB1c2giLCJkZXBlbmRlbmNpZXMiLCJkZXZEZXBlbmRlbmNpZXMiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/scanner.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/@opentelemetry+api@1.9.0","vendor-chunks/node-fetch@3.3.2","vendor-chunks/semver@7.7.2","vendor-chunks/fetch-blob@3.2.0","vendor-chunks/formdata-polyfill@4.0.10","vendor-chunks/data-uri-to-buffer@4.0.1","vendor-chunks/web-streams-polyfill@3.3.3","vendor-chunks/node-domexception@1.0.0"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftjol%2Fdev%2Fsandbox%2Fai-migrator%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();